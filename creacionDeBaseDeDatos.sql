--Creacion de tablas para HSQLDB
--usuarios
CREATE TABLE TUSERS(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,EMAIL VARCHAR(255) NOT NULL,ISADMIN BOOLEAN NOT NULL,LOGIN VARCHAR(255) NOT NULL,PASSWORD VARCHAR(255) NOT NULL,STATUS VARCHAR(255) NOT NULL,CONSTRAINT UNQ_TUSERS_3 UNIQUE(LOGIN));
--tasks
CREATE TABLE TTASKS(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,COMMENTS VARCHAR(255),CREATED DATE NOT NULL,FINISHED DATE,PLANNED DATE,TITLE VARCHAR(255) NOT NULL,CATEGORY_ID BIGINT,USER_ID BIGINT NOT NULL,CONSTRAINT FK_TTASKS_USER_ID FOREIGN KEY(USER_ID) REFERENCES PUBLIC.TUSERS(ID));
--categories
CREATE TABLE TCATEGORIES(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255) NOT NULL,USER_ID BIGINT NOT NULL,CONSTRAINT UNQ_TCATEGORIES_0 UNIQUE(NAME,USER_ID),CONSTRAINT FK_TCATEGORIES_USER_ID FOREIGN KEY(USER_ID) REFERENCES PUBLIC.TUSERS(ID));
ALTER TABLE TTASKS ADD CONSTRAINT FK_TTASKS_CATEGORY_ID FOREIGN KEY(CATEGORY_ID) REFERENCES PUBLIC.TCATEGORIES(ID);

--Insertar usuarios
--Las contrase√±as estan encriptadas con JBCrypt y coinciden con los login
INSERT INTO TUSERS VALUES(1,'admin@email.com',TRUE,'administrador1','$2a$10$zq6VmhqAZBMkm2Gi.XlMHeQZ5x9l3G2VrOYyMWupGJ.zgsSbX1tnq','ENABLED');
INSERT INTO TUSERS VALUES(2,'usuario1@mail.com',FALSE,'usuario1','$2a$10$EWPxDse8EcLF1py3TrenwuZEAiijArhPsnfsZVtFco9AHnRyW0Loq','ENABLED');
INSERT INTO TUSERS VALUES(3,'usuario2@mail.com',FALSE,'usuario2','$2a$10$pSqQERy2WZRYtsGOkLY.2eaVoDRAt7yhZSe/zFj1uFrTptpQjHX9O','ENABLED');
INSERT INTO TUSERS VALUES(4,'usuario3@mail.com',FALSE,'usuario3','$2a$10$Rzp8YDg9W5RyIsSnVj4bYexx0adFxbsyTctmTvAZJl4ch10MLpHaO','ENABLED');

--Insertar categorias
INSERT INTO TCATEGORIES VALUES(1,'CatUser1',2);
INSERT INTO TCATEGORIES VALUES(2,'CatUser2',3);
INSERT INTO TCATEGORIES VALUES(3,'CatUser3',4);

--Insertar tareas
INSERT INTO TTASKS VALUES(1,'Tarea 1 para el usuario 1, planificada  para el dia 1/1/17','2017-02-18',NULL,'2017-01-01','Tarea1User1',NULL,2);
INSERT INTO TTASKS VALUES(2,'Tarea 2 para el usuario 1, planificada  para el dia 30/6/17','2017-02-18',NULL,'2017-06-30','Tarea2User1',NULL,2);
INSERT INTO TTASKS VALUES(3,'Tarea 3 para el usuario 1, esta esta retrasada y tiene una categoria.','2017-02-18',NULL,'2016-12-12','Tarea3User1',1,2);
INSERT INTO TTASKS VALUES(4,'Tarea 1 del usuario 2, planificada para el 1 de enero de 2017.','2017-02-18',NULL,'2017-01-01','Tarea1User2',NULL,3);
INSERT INTO TTASKS VALUES(5,'Tarea 2 para el usuario 2, planificada para el 30 de junio','2017-02-18',NULL,'2017-06-30','Tarea2User2',NULL,3);
INSERT INTO TTASKS VALUES(6,'Tarea 3 para el usuario 2, retrasada y categorizada.','2017-02-18',NULL,'2013-10-23','Tarea3User2',2,3);
INSERT INTO TTASKS VALUES(7,'Tarea 1 para el usuario 3, planificada el 1 de enero','2017-02-18',NULL,'2017-01-01','Tarea1User3',NULL,4);
INSERT INTO TTASKS VALUES(8,'Tarea 2 para el usuario 3, planificada el 30 de junio','2017-02-18',NULL,'2017-06-30','Tarea2User3',NULL,4);
INSERT INTO TTASKS VALUES(9,'Tarea 3 para el usuario 3, retrasada y categorizada','2017-02-18',NULL,'2013-10-23','Tarea3User3',3,4);
